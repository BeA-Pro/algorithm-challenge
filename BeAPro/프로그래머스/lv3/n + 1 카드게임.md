## ğŸ”— ë¬¸ì œ ë§í¬
[n + 1ì¹´ë“œê²Œì„](https://school.programmers.co.kr/learn/courses/30/lessons/258707)

## ğŸ’» ì½”ë“œ
```java
import java.util.*;

class Solution {
    public int solution(int coin, int[] cards) {
        int answer = 0;
        int n = cards.length;
        
        ArrayList<PriorityQueue<Integer>> pqList = new ArrayList<>();
        for(int i=0;i<n; i++) pqList.add(new PriorityQueue<Integer>());
        
        boolean[] visit = new boolean[n];
        int[] round = new int[n];
        
        for(int i=0;i<n/3|i++) round[i] = 0;
        int a = 2;
        
        for(int i=n/3; i<n;i++) round[i] = (a++)/2;
        
        
        for(int i=0;i<n;i++){

            if(visit[i]) continue;
            int c = 0;
            if(round[i] > 0) c += 1;
            
            for(int j=i+1;j<n;j++){
                if(cards[i] + cards[j] == n + 1){
                    visit[j] = true;
                    if(round[j] > 0) c+=1;
                    pqList.get(round[j]).add(c);
                    break;
                }
            }
        }
        
        // ê²Œì„ ì‹œì‘
        while(true){
            int g_round = -1, req_coin = Integer.MAX_VALUE;
            
            answer+=1; // í˜„ì¬ ë¼ìš´ë“œ + 1
            
            for(int i=0;i<=Math.min(answer,round[n-1]);i++){
                if(pqList.get(i).isEmpty()) continue;
                if(pqList.get(i).peek() < req_coin){
                    g_round = i;
                    req_coin = pqList.get(i).peek();
                }
            }
            
            if(req_coin <= coin){
                coin-=req_coin;
                pqList.get(g_round).poll();
            }else break;
            
            if(answer == round[n-1] + 1) break;
        }
        return answer;
    }
}
```

## ğŸ“ í•´ì„¤

ë¬¸ì œ ë¡œì§ ìì²´ëŠ” ê¸ˆë°© í•´ê²°í–ˆëŠ”ë° `round` ì²˜ë¦¬ë¥¼ ì œëŒ€ë¡œ í•˜ì§€ ëª»í•´ì„œ 1ì‹œê°„ ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ í•˜ë‚˜ë¥¼ í†µê³¼ ëª»í•´ì„œ 1ì‹œê°„ì„ ë‚ ë¦° ë¬¸ì œì´ë‹¤.

|index|0|1|2|3|4|5|6|7|8|9|10|11|
|---|---|----|---|----|---|----|---|----|---|----|---|----|
|round|0|0|0|0|1|1|2|2|3|3|4|4|
|card|3|6|7|2|1|10|5|9|8|12|11|4|

ì¹´ë“œê°€ 3,6,7,2,1,10,5,9,8,12,11,4ë¡œ ì£¼ì–´ì¡Œì„ ë•Œ ì¹´ë“œê°€ ì†ì— ë“¤ì–´ì˜¤ëŠ” ë¼ìš´ë“œëŠ” ìœ„ì™€ ê°”ë‹¤. ë‚˜ëŠ” ì´ ì²˜ë¦¬ë¥¼ ë‹¨ìˆœíˆ ì¸ë±ìŠ¤ë¥¼ ië¼ê³  í•  ë•Œ, i>=n/3ì¼ ê²½ìš° roundë¥¼ i/2ë¡œ ì²˜ë¦¬í–ˆë‹¤. í•˜ì§€ë§Œ ì´ ê²½ìš° nì´ ì»¤ì§„ë‹¤ë©´ ë‹¬ë¼ì§„ë‹¤.

|index|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|
|---|---|----|---|----|---|----|---|---|---|---|---|---|---|---|---|---|---|---|
|round|0|0|0|0|0|0|1|1|2|2|3|3|4|4|5|5|6|6|
|card|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|

ê° cardê°€ ì–´ëŠ ë¼ìš´ë“œì— ì†ì— ë“¤ì–´ì˜¤ëŠ”ì§€ ê³„ì‚°í•˜ê¸° ìœ„í•´ ë¨¸ë¦¬ë¥¼ êµ´ë¦¬ë‹¤ê°€ ê·¸ëƒ¥ ë…¸ê°€ë‹¤ë¥¼ ë›°ì—ˆë‹¤. ë§ˆìŒì´ í¸í•˜ë‹¤.

```java
for(int i=0;i<n/3|i++) round[i] = 0;
int a = 2;

for(int i=n/3; i<n;i++) round[i] = (a++)/2;
```

ë‹¤ìŒì—ëŠ” ë²„ë ¤ì§ˆ ìˆ˜ ìˆëŠ” ì¹´ë“œì˜ ìŒ(í•©ì´ n + 1ì´ ë˜ëŠ” ê²½ìš°)ì´ ì–¸ì œ ì†ì— ë“¤ì–´ì˜¤ê³ , ì´ ìŒì„ ì§‘ê¸° ìœ„í•´ì„œëŠ” ëª‡ ê°œì˜ ì½”ì¸ì´ í•„ìš”í•œì§€ êµ¬í–ˆë‹¤.

```java
for(int i=0;i<n;i++){
  // ì´ë¯¸ ìŒì´ êµ¬í•´ì¡Œë‹¤ë©´ continue
  if(visit[i]) continue;

  int c = 0;
  // ì²˜ìŒë¶€í„° ì†ì— ì¥ì–´ì§€ì§€ ì•Šì•˜ë‹¤ë©´ ì½”ì¸ í•œê°œ ì†Œëª¨
  if(round[i] > 0) c += 1;

  // cards[i]ì˜ ì§ì€ i + 1ë²ˆì§¸ ì´í›„ì— ì¡´ì¬í•œë‹¤.
  for(int j=i+1;j<n;j++){
      if(cards[i] + cards[j] == n + 1){
          visit[j] = true;
          // ì²˜ìŒë¶€í„° ì†ì— ì¥ì–´ì§€ì§€ ì•Šì•˜ë‹¤ë©´ ì½”ì¸ í•œê°œ ì†Œëª¨
          if(round[j] > 0) c+=1;
          pqList.get(round[j]).add(c);
          break;
      }
  }
}
```
ìŒì´ ì†ì— ë“¤ì–´ì˜¤ëŠ” ë¼ìš´ë“œ round[j]ì™€ ì§‘ëŠ”ë° ë“œëŠ” ë¹„ìš© cì„ êµ¬í–ˆë‹¤ë©´, pqList[round[j]]ì— cë¥¼ ë„£ì—ˆë‹¤.
ì´ë ‡ê²Œ í•˜ë©´ pqList[i]ì—ëŠ” ië²ˆì§¸ ë¼ìš´ë“œì— ì†ì— ë“¤ì–´ì˜¬ ìˆ˜ ìˆê³  ë²„ë¦´ ìˆ˜ ìˆëŠ” ìŒì˜ ê°¯ìˆ˜ë¥¼ ì•Œ ìˆ˜ ìˆê²Œ ëœë‹¤. ë˜í•œ, ê°ê°ì˜ ë¹„ìš©ì„ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê²Œ ëœë‹¤.

1ë²ˆ ì˜ˆì œì˜ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ ëœë‹¤.



|pair|Round|coin|
---|---|---
3,10|0|0
6,7|1|1
2,11|4|1
1,12|3|2
5,8|3|2
9,4|4|2

ìœ„ë¥¼ ë¶€ë¶„ í•´ì„í•˜ìë©´ 3,10ì€ ì²˜ìŒë¶€í„° ì†ì— ì¥ì–´ì ¸ìˆìœ¼ë©° coinì´ 0ê°œ ì†Œìš”ëœë‹¤ëŠ” ëœ»ì´ê³  6,7ì˜ ê²½ìš°ëŠ” 1ë²ˆì§¸ ë¼ìš´ë“œì— ì†ì— ë“¤ì–´ì˜¬ ìˆ˜ ìˆìœ¼ë©° 1ê°œì˜ ì½”ì¸ì´ í•„ìš”í•˜ë‹¤ëŠ” ëœ»ì´ë‹¤.

ì´ë¥¼ pqListì— ë„£ìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

|pqList[0]|0|-|
|---|---|---|
pqList[1]|1|-|
pqList[2]|-|-|
pqList[3]|2|2|
pqList[4]|1|-|

pqList[3]ì˜ ì˜ë¯¸ë¥¼ í•´ì„í•˜ìë©´ 3ë²ˆì§¸ ë¼ìš´ë“œì—ì„œ ë²„ë¦´ ìˆ˜ ìˆëŠ” ì¹´ë“œëŠ” 2ê°œ ì¡´ì¬í•˜ê³  ë¹„ìš©ì€ ê°ê° 2ê°€ ë“ ë‹¤ëŠ” ëœ»ì´ë‹¤.

```java
// ê²Œì„ ì‹œì‘
while(true){
    int g_round = -1, req_coin = Integer.MAX_VALUE;
    
    answer+=1; // í˜„ì¬ ë¼ìš´ë“œ + 1

    // í˜„ì¬ê¹Œì§€ ì†ì— ë“¤ì–´ì˜¬ ìˆ˜ ìˆëŠ” ìŒ ì¤‘ì— ê°€ì§€ëŠ”ë° ìµœì†Œ ë¹„ìš©ì´ ë“œëŠ” ìŒì„ ê³¨ë¼ì„œ ë²„ë¦°ë‹¤.
    for(int i=0;i<=Math.min(answer,round[n-1]);i++){
        if(pqList.get(i).isEmpty()) continue;
        if(pqList.get(i).peek() < req_coin){
            g_round = i;
            req_coin = pqList.get(i).peek();
        }
    }
    
    if(req_coin <= coin){
        coin-=req_coin;
        pqList.get(g_round).poll();
    }else break;
    
    if(answer == round[n-1] + 1) break;
}
````

answerëŠ” í˜„ì¬ ë¼ìš´ë“œë¥¼ ì˜ë¯¸í•œë‹¤. í•œ ë¼ìš´ë“œ ë§ˆë‹¤ í˜„ì¬ ì†ì— ë“¤ì–´ ì˜¬ ìˆ˜ ìˆëŠ” ì¹´ë“œ ìŒ ì¤‘ì— ê°–ëŠ”ë° ìµœì†Œë¹„ìš©ì´ ë“œëŠ” ê²½ìš°ë¥¼ ê³¨ë¼ì„œ ë²„ë¦¼ìœ¼ë¡œì¨ í˜„ì¬ ê°€ì§€ê³  ìˆëŠ” ì½”ì¸ìœ¼ë¡œ ì œì¼ ë§ì€ ë¼ìš´ë“œë¥¼ ê°ˆ ìˆ˜ ìˆê²Œ ë³´ì¥í–ˆë‹¤.

ì—¬ê¸°ê¹Œì§€ ì˜ ì§œë†“ê³  ì•„ë˜ ì½”ë“œë¥¼ ì•ˆë„£ì–´ 1ì‹œê°„ ë„˜ê²Œ í•´ë§¸ë‹¤.
```java
if(answer == round[n-1] + 1) break;
```
ë‚˜ëŠ” ë‹¹ì—°íˆ ì¹´ë“œë¥¼ ë‹¤ ë²„ë¦¬ëŠ” ê²½ìš°, ì¦‰ req_coinì´ ë°”ë€Œì§€ ì•Šê³  Intger.MAX_VALUEì¸ ê²½ìš°ê°€ ì¹´ë“œíŒ©ì„ ë‹¤ ì†Œìš”í•˜ëŠ” ê²½ìš°ë¼ê³  ìƒê°í–ˆë‹¤.

í•˜ì§€ë§Œ ìœ„ ì½”ë“œë¥¼ ì•ˆ ì³¤ì„ ê²½ìš° 1, 6, 2, 5, 3, 4ë¥¼ ë„£ëŠ”ë‹¤ë©´ ê°ˆ ìˆ˜ ìˆëŠ” ìµœëŒ€ ë¼ìš´ë“œëŠ” 3ì´ ì•„ë‹Œ 4ê°€ ë‚˜ì˜¨ë‹¤. 

ì¹´ë“œíŒ©ì„ ë‹¤ ì†Œìš”í•˜ëŠ” ê²½ìš°ëŠ” ì¹´ë“œë¥¼ ë‹¤ ë²„ë¦¬ëŠ” ê²½ìš°ê°€ ì•„ë‹ˆë¼ ê°ˆ ìˆ˜ ìˆëŠ” ìµœëŒ€ ë¼ìš´ë“œ + 1ì´ ë˜ëŠ” ê²½ìš°ì˜€ë‹¤.

ì ‘ê·¼ ë°©ì‹ì€ êµ‰ì¥íˆ ì˜ ì°¾ì€ ê²ƒ ê°™ì€ë° ë””í…Œì¼í•œ ë¶€ë¶„ì—ì„œ êµ¬í˜„í•˜ëŠ”ë° ë§ì´ ë¶€ì¡±í–ˆë˜ê±° ê°™ë‹¤. ì´ëŸ° ë¶€ë¶„ì—ì„œ ë§ì´ ë¶€ì¡±í•œ ê²ƒ ê°™ì€ë° ê¾¸ì¤€íˆ ì—°ìŠµí•´ì•¼ê² ë‹¤.