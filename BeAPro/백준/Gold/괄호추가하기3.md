## ğŸ”— ë¬¸ì œ ë§í¬
[ê´„í˜¸ì¶”ê°€í•˜ê¸°3](https://www.acmicpc.net/problem/16639)

## ğŸ’» ì½”ë“œ
```java
import java.io.*;
import java.util.*;

public class Main{
    static int n;
    static int[] numbers;
    static char[] oper;
    static int[][] dpMax;
    static int[][] dpMin;

    static int cal(int a, int b, char c){
        switch (c){
            case '+': return a+b;
            case '-': return a-b;
        }
        return a*b;
    }


    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        n = Integer.parseInt(br.readLine());
        numbers = new int[n / 2 + 1];
        oper = new char[n / 2];
        dpMax = new int[n / 2 + 1][n / 2 + 1];
        dpMin = new int[n / 2 + 1][n / 2 + 1];
        String input = br.readLine();

        for (int i = 0; i < n; i++) {
            if (i % 2 == 0) numbers[i / 2] = input.charAt(i) - '0';
            else oper[i / 2] = input.charAt(i);
        }

        int max_length = n/2 + 1;

        for(int i=0;i<max_length;i++) dpMax[i][i] = dpMin[i][i] = numbers[i];

        for(int length = 1; length < max_length;length++){
            for(int i = 0; i + length < max_length; i++){
                int j = i + length;
                dpMax[i][j] = Integer.MIN_VALUE;
                dpMin[i][j] = Integer.MAX_VALUE;

                for(int k = i;k < j;k++){
                    int maxLeft = dpMax[i][k];
                    int minLeft = dpMin[i][k];
                    int maxRight = dpMax[k+1][j];
                    int minRight = dpMin[k+1][j];

                    int[] temp = new int[] {
                            cal(maxLeft,maxRight,oper[k]),
                            cal(minLeft,minRight,oper[k]),
                            cal(maxLeft,minRight,oper[k]),
                            cal(minLeft,maxRight,oper[k])
                    };

                    dpMax[i][j] = Math.max(dpMax[i][j],Arrays.stream(temp).max().getAsInt());
                    dpMin[i][j] = Math.min(dpMin[i][j],Arrays.stream(temp).min().getAsInt());
                }

            }
        }

        System.out.println(dpMax[0][n / 2]);
    }
}

```

## ğŸ“ í•´ì„¤

í–‰ë ¬ì˜ ê³±ê³¼ ìœ ì‚¬í•œ dp ë¬¸ì œì…ë‹ˆë‹¤. í•´ê²°í•˜ì§€ ëª»í•´ ë‹µì„ ì°¸ì¡°í•˜ì˜€ìŠµë‹ˆë‹¤.
dpMax[i][j]ì—ëŠ” numbers[i] ë¶€í„° numbers[j]ê¹Œì§€ ê³„ì‚°í•˜ì˜€ì„ ë•Œ ìµœëŒ“ê°’ì„ ë‹´ìŠµë‹ˆë‹¤.
dpMin[i][j]ì—ëŠ” numbers[i] ë¶€í„° numbers[j]ê¹Œì§€ ê³„ì‚°í•˜ì˜€ì„ ë•Œ ìµœì†Ÿê°’ì„ ë‹´ìŠµë‹ˆë‹¤.

```java
for(int length = 1; length < max_length;length++){
    for(int i = 0; i + length < max_length; i++){
        int j = i + length;
        dpMax[i][j] = Integer.MIN_VALUE;
        dpMin[i][j] = Integer.MAX_VALUE;

        for(int k = i;k < j;k++){
            int maxLeft = dpMax[i][k];
            int minLeft = dpMin[i][k];
            int maxRight = dpMax[k+1][j];
            int minRight = dpMin[k+1][j];

            int[] temp = new int[] {
                    cal(maxLeft,maxRight,oper[k]),
                    cal(minLeft,minRight,oper[k]),
                    cal(maxLeft,minRight,oper[k]),
                    cal(minLeft,maxRight,oper[k])
            };

            dpMax[i][j] = Math.max(dpMax[i][j],Arrays.stream(temp).max().getAsInt());
            dpMin[i][j] = Math.min(dpMin[i][j],Arrays.stream(temp).min().getAsInt());
        }

    }
}
```
dpMax[i][j] êµ¬í•  ë•ŒëŠ” kë¥¼ ê¸°ì¤€ìœ¼ë¡œ iì™€ jì‚¬ì´ë¥¼ ë‚˜ëˆ„ì–´ ì—°ì‚°í•œ ê°’ ì¤‘ ìµœëŒ“ê°’ì„ ë„£ìŠµë‹ˆë‹¤.

dpMaxë¥¼ êµ¬í•˜ëŠ”ë° dpMinì´ í•„ìš”í•œ ì´ìœ ëŠ” ëº„ì…ˆ ì—°ì‚°ì„ í†µí•´ ìµœëŒ“ê°’ì´ ë‚˜ì˜¬ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.